database
name: alawabi
user: root
password: BMytUjfLUjfLFg0PciBuCOkg

server
root@mothakf.online
password: BMytUjfLUjfLFg0PciBuCOkg




- - - - - - - - 
apt install unzip
apt install nginx nodejs npm
node -v
sudo apt install php8.1 php8.1-cli php8.1-curl php8.1-common php8.1-fpm php8.1-gd php8.1-imap php8.1-intl php8.1-mbstring php8.1-mysql php8.1-opcache php8.1-readline php8.1-soap php8.1-xml php8.1-zip
sudo apt install mariadb-server
sudo mysql_secure_installation

- - - - - - - - 
CREATE USER 'admin'@'%' IDENTIFIED BY 'BMytUjfLUjfLFg0PciBuCOkg';
GRANT ALL PRIVILEGES ON alawabi.* TO 'admin'@'localhost' IDENTIFIED BY 'BMytUjfLUjfLFg0PciBuCOkg';

GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY 'BMytUjfLUjfLFg0PciBuCOkg';
FLUSH PRIVILEGES;

- - - - - - - - 
sudo apt install certbot python3-certbot-nginx


- - - - - - - - 
adduser admin
usermod -aG sudo admin

- - - - - - - - 
ufw app list
ufw allow OpenSSH
ufw allow 'Nginx HTTP'
ufw enable
ufw status

- - - - - - - - 

ssh-keygen
cat ~/.ssh/id_rsa.pub
//=> /your_home/.ssh/id_rsa.pub

sudo mkdir /var/www/mothakf.online
cd /var/www

git clone git@github.com:abukhalil2b/moth-v6.git mothakf.online


sudo chown -R $USER:$USER /var/www/mothakf.online
sudo nano /etc/nginx/sites-available/mothakf.online

server {
    listen 80;
    listen [::]:80;
    server_name mothakf.online;
    root /var/www/mothakf.online/public;
 
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
 
    index index.php;
 
    charset utf-8;
 
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
 
    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }
 
    error_page 404 /index.php;
 
    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
 
    location ~ /\.(?!well-known).* {
        deny all;
    }
}



sudo ln -s /etc/nginx/sites-available/mothakf.online /etc/nginx/sites-enabled/
sudo unlink /etc/nginx/sites-enabled/default
sudo nginx -t
sudo systemctl reload nginx

- - - - - - - - 

sudo certbot certonly --standalone -d mothakf.online
ls /etc/letsencrypt/live/mothakf.online
sudo systemctl status certbot.timer

chown -R www-data:www-data /var/www/mothakf.online/storage
chown -R www-data:www-data /var/www/mothakf.online/bootstrap/cache
chown -R www-data:www-data /var/www/mothakf.online/storage/framework/views

