
========
database
name: alawabi
user: root
password: iFhWxs3e0pOtJJX3h3jyzfd

- - - - - - - - 
composer install --optimize-autoloader --no-dev
npm run build
php artisan config:cache
php artisan route:cache
php artisan view:cache

- - - - - - - - 

sudo apt install php8.2 php8.2-cli php8.2-curl php8.2-common php8.2-fpm php8.2-gd php8.2-imap php8.2-intl php8.2-mbstring php8.2-mysql php8.2-opcache php8.2-readline php8.2-soap php8.2-xml php8.2-zip
sudo apt install mariadb-server
sudo mysql_secure_installation
apt install unzip
apt install nginx nodejs npm
node -v
- - - - - - - - 
CREATE USER 'admin'@'%' IDENTIFIED BY 'iFhWxs3e0pOtJJX3h3jyzfd';
GRANT ALL PRIVILEGES ON alawabi.* TO 'admin'@'localhost' IDENTIFIED BY 'iFhWxs3e0pOtJJX3h3jyzfd';

GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY 'iFhWxs3e0pOtJJX3h3jyzfd';
FLUSH PRIVILEGES;

- - - - - - - - 
https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-22-04

certbot --nginx -d mothakf.online

- - - - - - - - 
adduser admin
usermod -aG sudo admin

- - - - - - - - 
ufw app list
ufw allow OpenSSH
ufw allow 'Nginx HTTP'
ufw enable
ufw status

- - - - - - - - 

ssh-keygen
cat ~/.ssh/id_rsa.pub
//=> /your_home/.ssh/id_rsa.pub

sudo mkdir /var/www/mothakf.online
cd /var/www

git clone git@github.com:abukhalil2b/moth-v6.git mothakf.online


sudo chown -R $USER:$USER /var/www/mothakf.online
sudo nano /etc/nginx/sites-available/mothakf.online

server {
    listen 80;
    listen [::]:80;
    server_name mothakf.online;
    root /var/www/mothakf.online/public;
 
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
 
    index index.php;
 
    charset utf-8;
 
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
 
    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }
 
    error_page 404 /index.php;
 
    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
 
    location ~ /\.(?!well-known).* {
        deny all;
    }
}

//install composer


sudo ln -s /etc/nginx/sites-available/mothakf.online /etc/nginx/sites-enabled/
sudo unlink /etc/nginx/sites-enabled/default
sudo nginx -t
sudo systemctl reload nginx

sudo chmod -R 755 storage
sudo chown -R www-data:www-data storage

 php artisan key:generate
- - - - - - - - 

sudo certbot certonly --standalone -d mothakf.online
ls /etc/letsencrypt/live/mothakf.online
sudo systemctl status certbot.timer

